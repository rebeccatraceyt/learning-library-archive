<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../../assets/css/bitesize/diverged-git-branches.css">
    <title>Handling Diverged Git Branches</title>
</head>
<body>
    <nav>
        <a href="../../bitesize.html">Bitesize</a>
        <a href="../../checklist.html">Checklists</a>
        <a href="../../flashcards.html">Flash</a>
    </nav>
    <section id="template-body" class="box-shadow">
        <div id="header">
            <div id="header-text">
                <h1 class="text-heading">Handling Diverged Git Branches</h1>
            </div>
            <hr id="header-hr" />
        </div>
        <div class="body">
            <div>
                <h2 class="alt-heading red">
                    The Error:
                </h2>
                <p class="section-padding">
                    If you're trying to push your code to Github and are receiving a message which says something along the lines of "<span class="code-text bold-text">Your branch and 'origin/main' have diverged</span>", you will need to perform a git pull before you can push again.
                </p>
            </div>
            <div class="section-margin">
                <h2 class="alt-heading red">
                    The Cause:
                </h2>
                <p class="section-padding">
                    This issue occurs when there are conflicts between your remote repo and your local repo:
                </p>
                <div class="img-block sml-txt">
                    <img class="img" src="https://4060571.fs1.hubspotusercontent-na1.net/hubfs/4060571/library-assets/remote-vs-local.svg" alt="Example of Diffchecker share dialogue and steps">
                    <span>
                        (i.e. the remote repo has changes that the local repo does not)
                    </span>
                </div>
                <p class="section-padding">
                    This can happen if you edited or uploaded a file directly on Github, or if you're working from two computers or IDEs. 
                </p>
            </div>
            <div class="section-margin">
                <h2 class="alt-heading red">
                    The Solution:
                </h2>
                <p class="section-padding">
                    To pull your latest code from your remote repo and sync your changes, start by running the following command:
                </p>
                <div class="code-block">
                    <div class="code-text code-container box-shadow">
                        <div class="code-margin">
                            <span>
                                <span class="green">user@ci-os</span> <span class="blue">/home/user</span> (main) $ git config pull.rebase false
                            </span>
                        </div>
                    </div>
                </div>
                <p>
                    The above command tells git how to combine your remote repository with your local repository. In this case, we will use git's default strategy, which is to perform a merge.
                </p>
                <p class="section-padding">
                    Now run the command:
                </p>
                <div class="code-block">
                    <div class="code-text code-container box-shadow">
                        <div class="code-margin">
                            <span>
                                <span class="green">user@ci-os</span> <span class="blue">/home/user</span> (main) $ git pull origin main
                            </span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="section-margin">
                <h2 class="alt-heading red">
                    Conflict Resolution:
                </h2>
                <p class="section-padding">
                    It is possible that you will now have merge conflicts in some of your files. If that is the case, donâ€™t worry! You can use the following steps to get back on track: 
                </p>
                <div class="section-padding circle-container">
                    <div class="circle-points">
                        <span class="circle-light">1</span>
                        <span>
                            Run the command <span class="bold-text code-text">git status</span> to see which files (if any) have conflicts that need fixing. If you have no conflicts, you can skip the next step.
                        </span>
                    </div>
                    <div class="circle-points">
                        <span class="circle-light">2</span>
                        <span>
                            <span>
                                If any files are listed under the "<span class="bold-text code-text">Unmerged paths</span>" heading, you will need to open them in your editor and look for places marked with <span class="code-text bold-text">####</span> or <span class="code-text bold-text">&lt;&lt;&lt;&lt;</span>. 
                            </span>
                            <br>
                            <span>
                                These are the areas that differ between your local repo and the remote repo. 
                            </span>
                            <br>
                            <span>
                                You will need to manually correct these areas until the code is how you need it to be. 
                            </span>
                        </span>
                    </div>
                    <div class="circle-points">
                        <span class="circle-light">3</span>
                        <span>
                            Finally, save all the files you changed.
                        </span>
                    </div>
                    <div class="circle-points">
                        <span class="circle-light">4</span>
                        <span>
                            In your terminal run the command:
                        </span>
                    </div>
                </div>
                <div class="code-block">
                    <div class="code-text code-container box-shadow">
                        <div class="code-margin">
                            <span>
                                <span class="green">user@ci-os</span> <span class="blue">/home/user</span> (main|MERGING) $ git add .
                            </span>
                        </div>
                    </div>
                </div>
                <div class="circle-points">
                    <span class="circle-light">5</span>
                    <span>
                        Now commit your changes with:
                    </span>
                </div>
                <div class="code-block">
                    <div class="code-text code-container box-shadow">
                        <div class="code-margin">
                            <span>
                                <span class="green">user@ci-os</span> <span class="blue">/home/user</span> (main|MERGING) $ git commit -m "Fix merge conflict"
                            </span>
                        </div>
                    </div>
                </div>
                <div class="section-padding sml-txt">
                    <span>
                        You will know the merge is complete because <span class="bold-text code-text">(main|MERGING)</span> will return to just <span class="bold-text code-text">(main)</span> in the terminal.
                    </span>
                </div>
                <div class="circle-points section-padding">
                    <span class="circle-light">6</span>
                    <span>
                        Finally, run the following command so all your files are synced up.
                    </span>
                </div>
                <div class="code-block">
                    <div class="code-text code-container box-shadow">
                        <div class="code-margin">
                            <span>
                                <span class="green">user@ci-os</span> <span class="blue">/home/user</span> (main) $ git push origin main
                            </span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="footer-icon">
            <img src="https://4060571.fs1.hubspotusercontent-na1.net/hubfs/4060571/library-assets/library-logo-dark.png" alt="Code Institute logo">
        </div>
    </section>
</body>
</html>